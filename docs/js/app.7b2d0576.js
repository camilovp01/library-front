(function(t){function e(e){for(var r,s,n=e[0],l=e[1],c=e[2],u=0,p=[];u<n.length;u++)s=n[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],r=!0,n=1;n<o.length;n++){var l=o[n];0!==a[l]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=o[0]))}return t}var r={},a={app:0},i=[];function s(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=r,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(o,r,function(e){return t[e]}.bind(null,r));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"13ee":function(t,e,o){"use strict";var r=o("2479"),a=o.n(r);a.a},"1b3e":function(t,e,o){},2479:function(t,e,o){},"3c8a":function(t,e,o){},"3e76":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var r=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app"},[o("Header"),o("div",{staticClass:"app-container"},[t._m(0),o("div",{staticClass:"app-content"},[o("div",{staticClass:"add-button"},[o("button",{on:{click:function(e){return t.toggleModal("add",null)}}},[t._v("+ Agregar")])]),o("div",{staticClass:"book-container"},t._l(t.books,(function(e){return o("Card",{key:e._id,attrs:{authors:e.author,_id:e._id,title:e.title,description:e.description,toggleModal:t.toggleModal,book:e}})})),1)])]),o("Modal",{attrs:{typeForm:t.typeForm,showModal:t.showModal,toggleModal:t.toggleModal,book:t.book},on:{refresh:function(e){return t.getAllBooks()}}})],1)},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-welcome"},[o("h1",[t._v("Bienvenido")])])}],s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"book-card",on:{click:function(e){return t.toggleModal("edit",t.book)}}},[t._m(0),o("div",{staticClass:"book-description"},[o("div",{staticClass:"rowCard"},[o("b",[t._v("Título")]),o("p",{attrs:{title:t.title}},[t._v(t._s(t.title))])]),o("div",{staticClass:"rowCard"},[o("b",[t._v("Autor(es)")]),o("p",[t._v(t._s(t.format(t.authors,"name")))])]),o("div",{staticClass:"rowCard"},[o("b",[t._v("Descripción")]),o("p",[t._v(t._s(t.description))])])])])},n=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"img-card-contain"},[o("img",{attrs:{src:"https://edit.org/images/cat/portadas-libros-big-2019101610.jpg",alt:"Portada"}})])}],l={name:"Card",props:{authors:Array,_id:String,title:String,description:String,toggleModal:Function,book:Object},methods:{format:function(t,e){for(var o="",r=0;r<t.length;r++)o+=0!=r?", "+t[r][e]:t[r][e];return o}}},c=l,d=(o("e1c5"),o("2877")),u=Object(d["a"])(c,s,n,!1,null,"0bdcc92f",null),p=u.exports,h=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},f=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("header",{staticClass:"library-header"},[o("h1",[t._v("BV")]),o("h1",[t._v("Biblioteca Virtual")]),o("div",{staticClass:"search"},[o("input",{attrs:{type:"text",placeholder:"Buscar..."}})])])}],v={name:"Header"},m=v,b=(o("d996"),Object(d["a"])(m,h,f,!1,null,"2b913eb4",null)),g=b.exports,_=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.showModal?o("div",{staticClass:"modal"},[o("div",{staticClass:"modal-back"}),o("div",{staticClass:"modal-container"},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"close"},[o("button",{on:{click:function(e){return t.toggleModal()}}},[t._v("X")])]),o("BookForm",{attrs:{book:t.book,typeForm:t.typeForm},on:{refresh:function(e){return t.refresh()}}})],1)])]):t._e()},k=[],y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"book-form"},[t.errors.length?o("div",[o("ul",t._l(t.errors,(function(e){return o("li",{key:e},[t._v(t._s(e))])})),0)]):t._e(),o("form",{staticClass:"form-horizontal",on:{submit:t.checkForm}},[o("fieldset",[o("legend",[t._v(t._s("add"==t.typeForm?"Agregar Libros":"Editar Libro"))]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"control-label",attrs:{for:"title"}},[t._v("Título*")]),o("div",{staticClass:"col-md-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control input-md",attrs:{id:"title",name:"title",type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),o("span",{staticClass:"help-block"})])]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"control-label",attrs:{for:"year"}},[t._v("Año")]),o("div",{staticClass:"col-md-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control input-md",attrs:{id:"year",name:"year",type:"number"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}}),o("span",{staticClass:"help-block"})])]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"control-label",attrs:{for:"editorial"}},[t._v("Editorial*")]),o("div",{staticClass:"col-md-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.editorial,expression:"editorial"}],staticClass:"form-control input-md",attrs:{id:"editorial",name:"editorial",type:"text",required:""},domProps:{value:t.editorial},on:{input:function(e){e.target.composing||(t.editorial=e.target.value)}}}),o("span",{staticClass:"help-block"})])]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"control-label",attrs:{for:"description"}},[t._v("Descripcion*")]),o("div",{staticClass:"col-md-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control input-md",attrs:{id:"description",name:"description",type:"text",required:""},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),o("span",{staticClass:"help-block"})])]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"control-label",attrs:{for:"author"}},[t._v("Autor*")]),o("div",{staticClass:"col-md-4"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.authors,expression:"authors"}],staticClass:"form-control",attrs:{id:"author",name:"author",multiple:"multiple",required:""},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.authors=e.target.multiple?o:o[0]}}},t._l(t.authorsData,(function(e){return o("option",{key:e._id,domProps:{value:e._id}},[t._v(t._s(e.name))])})),0)])]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"control-label",attrs:{for:"reserved"}},[t._v("Reservado")]),o("div",{staticClass:"col-md-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.reserved,expression:"reserved"}],staticClass:"form-control check-md",attrs:{id:"reserved",name:"reserved",type:"checkbox"},domProps:{checked:Array.isArray(t.reserved)?t._i(t.reserved,null)>-1:t.reserved},on:{change:function(e){var o=t.reserved,r=e.target,a=!!r.checked;if(Array.isArray(o)){var i=null,s=t._i(o,i);r.checked?s<0&&(t.reserved=o.concat([i])):s>-1&&(t.reserved=o.slice(0,s).concat(o.slice(s+1)))}else t.reserved=a}}}),o("span",{staticClass:"help-block"})])]),t._m(0)])])])},C=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"form-submit"},[o("button",[t._v("Guardar")])])}],w=(o("a4d3"),o("e01a"),o("99af"),o("d81d"),o("ac1f"),o("1276"),o("bc3a")),A=o.n(w),M={name:"BookForm",data:function(){return{errors:[],title:"",year:0,editorial:"",description:"",id:"",authors:[],reserved:!1,authorsData:[]}},props:{typeForm:String,book:Object},mounted:function(){this.getAllAuthors(),this.book&&(this.title=this.book.title,this.year=this.book.year.split("-")[0],this.editorial=this.book.editorial,this.description=this.book.description,this.id=this.book._id,this.reserved=this.book.reserved,this.authors=this.book.author.map((function(t){return t._id})))},methods:{checkForm:function(t){this.title&&this.editorial&&this.description&&this.authors?"add"==this.typeForm?this.addBook():this.editBook():(this.errors=[],this.errors.push("Los campos con * son obligatorios")),t.preventDefault()},addBook:function(){var t=this,e={title:this.title,editorial:this.editorial,description:this.description,author:this.authors,year:this.year,reserved:this.reserved};return A.a.post("".concat(r["a"].config.baseApiUrl,"book"),e).then((function(){t.title="",t.editorial="",t.description="",t.authors=[],t.year="",t.reserved=!1,t.$swal.fire("Perfecto!","El libro ".concat(t.title," se ha guardado correctamente"),"success").then(t.$emit("refresh"))}))},editBook:function(){var t=this,e={title:this.title,editorial:this.editorial,description:this.description,author:this.authors,year:this.year,reserved:this.reserved};return A.a.put("".concat(r["a"].config.baseApiUrl,"book/").concat(this.id),e).then((function(){t.$swal.fire("Perfecto!","El libro ".concat(t.title," se ha modificado correctamente"),"success").then(t.$emit("refresh"))}))},getAllAuthors:function(){var t=this;A.a.get("".concat(r["a"].config.baseApiUrl,"author")).then((function(e){t.authorsData=e.data.authors}))}}},x=M,O=(o("c712"),Object(d["a"])(x,y,C,!1,null,"35f226e0",null)),j=O.exports,F={name:"Modal",props:{showModal:Boolean,toggleModal:Function,typeForm:String,book:Object},components:{BookForm:j},methods:{refresh:function(){this.$emit("refresh")}}},P=F,B=(o("13ee"),Object(d["a"])(P,_,k,!1,null,"74d7c1ea",null)),$=B.exports,E={name:"App",components:{Card:p,Header:g,Modal:$},data:function(){return{books:[],showModal:!1,typeForm:"",book:{}}},mounted:function(){this.getAllBooks()},methods:{getAllBooks:function(){var t=this;A.a.get("".concat(r["a"].config.baseApiUrl,"book")).then((function(e){t.books=e.data.books}))},toggleModal:function(t,e){this.showModal=!this.showModal,this.typeForm=t,this.book=e}}},S=E,D=(o("57b7"),Object(d["a"])(S,a,i,!1,null,"21140d7b",null)),N=D.exports,T=o("5886");o("4413");r["a"].use(T["a"]),r["a"].config.productionTip=!1,r["a"].config.baseApiUrl="https://virtualibrary.herokuapp.com/api/v1/library/",r["a"].config.publicPath="https://camilovp01.github.io/library-front/",new r["a"]({render:function(t){return t(N)}}).$mount("#app")},"57b7":function(t,e,o){"use strict";var r=o("3c8a"),a=o.n(r);a.a},b3e6:function(t,e,o){},c712:function(t,e,o){"use strict";var r=o("b3e6"),a=o.n(r);a.a},d996:function(t,e,o){"use strict";var r=o("3e76"),a=o.n(r);a.a},e1c5:function(t,e,o){"use strict";var r=o("1b3e"),a=o.n(r);a.a}});
//# sourceMappingURL=app.7b2d0576.js.map